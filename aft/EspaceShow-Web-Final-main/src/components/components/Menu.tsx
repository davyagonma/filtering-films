"use client"
import { useEffect, useState } from "react"
import Link from "next/link"
import { Search } from "lucide-react"
import { checkIfUserIsAdmin } from "@/utils/services"
import { signOut, useSession } from 'next-auth/react'


const Menu = () => {
    const isUser = checkIfUserIsAdmin()
    const { data: session } = useSession()
    const user = typeof sessionStorage!== 'undefined'? JSON.parse(sessionStorage.getItem('user')!) : null
    const [isCurrent, setIsCurrent] = useState("")
    useEffect(() => {
        if (window.location.pathname == '/event/create') {
            setIsCurrent("event")
        } else if (window.location.pathname.includes('/history')) {
            setIsCurrent("history")
        } else if (window.location.pathname == '/event/manage') {
            setIsCurrent("manage")
        } else if (window.location.pathname.includes('/scan')) {
            setIsCurrent("scan")
        } else if (window.location.pathname.includes('/finances')) {
            setIsCurrent("finances")
        } else if (window.location.pathname.includes('/account')) {
            setIsCurrent("settings")
        } else if (window.location.pathname.includes('/notification')) {
            setIsCurrent("notify")
        } else if (window.location.pathname == '/') {
            setIsCurrent("accueil")
        }
    }, [])

    const setRoute = () => {
        sessionStorage.setItem('current_route', window.location.pathname)
    }
    return (
        <div>
            <div className="mt-1 md:hidden">
                <Link onClick={() => setRoute()} href="/" className="text-black flex justify-start items-center">
                    <span>
                        <svg width="35" height="35" viewBox="0 0 35 35" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect width="35" height="35" rx="10" fill="#F0EDED" />
                            <path fillRule="evenodd" clipRule="evenodd" d="M16.9045 15.7143H18.095C18.4107 15.7143 18.7135 15.8397 18.9368 16.063C19.1601 16.2862 19.2855 16.589 19.2855 16.9048V18.0952C19.2855 18.411 19.1601 18.7138 18.9368 18.937C18.7135 19.1603 18.4107 19.2857 18.095 19.2857H16.9045C16.5888 19.2857 16.286 19.1603 16.0627 18.937C15.8395 18.7138 15.7141 18.411 15.7141 18.0952V16.9048C15.7141 16.589 15.8395 16.2862 16.0627 16.063C16.286 15.8397 16.5888 15.7143 16.9045 15.7143ZM16.9045 10.9524H18.095C18.4107 10.9524 18.7135 11.0778 18.9368 11.3011C19.1601 11.5243 19.2855 11.8271 19.2855 12.1429V13.3333C19.2855 13.6491 19.1601 13.9519 18.9368 14.1751C18.7135 14.3984 18.4107 14.5238 18.095 14.5238H16.9045C16.5888 14.5238 16.286 14.3984 16.0627 14.1751C15.8395 13.9519 15.7141 13.6491 15.7141 13.3333V12.1429C15.7141 11.8271 15.8395 11.5243 16.0627 11.3011C16.286 11.0778 16.5888 10.9524 16.9045 10.9524ZM21.6664 15.7143H22.8569C23.1726 15.7143 23.4754 15.8397 23.6987 16.063C23.922 16.2862 24.0474 16.589 24.0474 16.9048V18.0952C24.0474 18.411 23.922 18.7138 23.6987 18.937C23.4754 19.1603 23.1726 19.2857 22.8569 19.2857H21.6664C21.3507 19.2857 21.0479 19.1603 20.8246 18.937C20.6014 18.7138 20.476 18.411 20.476 18.0952V16.9048C20.476 16.589 20.6014 16.2862 20.8246 16.063C21.0479 15.8397 21.3507 15.7143 21.6664 15.7143ZM21.6664 10.9524H22.8569C23.1726 10.9524 23.4754 11.0778 23.6987 11.3011C23.922 11.5243 24.0474 11.8271 24.0474 12.1429V13.3333C24.0474 13.6491 23.922 13.9519 23.6987 14.1751C23.4754 14.3984 23.1726 14.5238 22.8569 14.5238H21.6664C21.3507 14.5238 21.0479 14.3984 20.8246 14.1751C20.6014 13.9519 20.476 13.6491 20.476 13.3333V12.1429C20.476 11.8271 20.6014 11.5243 20.8246 11.3011C21.0479 11.0778 21.3507 10.9524 21.6664 10.9524ZM21.6664 20.4762H22.8569C23.1726 20.4762 23.4754 20.6016 23.6987 20.8249C23.922 21.0481 24.0474 21.3509 24.0474 21.6667V22.8571C24.0474 23.1729 23.922 23.4757 23.6987 23.6989C23.4754 23.9222 23.1726 24.0476 22.8569 24.0476H21.6664C21.3507 24.0476 21.0479 23.9222 20.8246 23.6989C20.6014 23.4757 20.476 23.1729 20.476 22.8571V21.6667C20.476 21.3509 20.6014 21.0481 20.8246 20.8249C21.0479 20.6016 21.3507 20.4762 21.6664 20.4762ZM16.9045 20.4762H18.095C18.4107 20.4762 18.7135 20.6016 18.9368 20.8249C19.1601 21.0481 19.2855 21.3509 19.2855 21.6667V22.8571C19.2855 23.1729 19.1601 23.4757 18.9368 23.6989C18.7135 23.9222 18.4107 24.0476 18.095 24.0476H16.9045C16.5888 24.0476 16.286 23.9222 16.0627 23.6989C15.8395 23.4757 15.7141 23.1729 15.7141 22.8571V21.6667C15.7141 21.3509 15.8395 21.0481 16.0627 20.8249C16.286 20.6016 16.5888 20.4762 16.9045 20.4762ZM12.1426 15.7143H13.3331C13.6488 15.7143 13.9516 15.8397 14.1749 16.063C14.3982 16.2862 14.5236 16.589 14.5236 16.9048V18.0952C14.5236 18.411 14.3982 18.7138 14.1749 18.937C13.9516 19.1603 13.6488 19.2857 13.3331 19.2857H12.1426C11.8269 19.2857 11.5241 19.1603 11.3008 18.937C11.0776 18.7138 10.9521 18.411 10.9521 18.0952V16.9048C10.9521 16.589 11.0776 16.2862 11.3008 16.063C11.5241 15.8397 11.8269 15.7143 12.1426 15.7143ZM12.1426 10.9524H13.3331C13.6488 10.9524 13.9516 11.0778 14.1749 11.3011C14.3982 11.5243 14.5236 11.8271 14.5236 12.1429V13.3333C14.5236 13.6491 14.3982 13.9519 14.1749 14.1751C13.9516 14.3984 13.6488 14.5238 13.3331 14.5238H12.1426C11.8269 14.5238 11.5241 14.3984 11.3008 14.1751C11.0776 13.9519 10.9521 13.6491 10.9521 13.3333V12.1429C10.9521 11.8271 11.0776 11.5243 11.3008 11.3011C11.5241 11.0778 11.8269 10.9524 12.1426 10.9524ZM12.1426 20.4762H13.3331C13.6488 20.4762 13.9516 20.6016 14.1749 20.8249C14.3982 21.0481 14.5236 21.3509 14.5236 21.6667V22.8571C14.5236 23.1729 14.3982 23.4757 14.1749 23.6989C13.9516 23.9222 13.6488 24.0476 13.3331 24.0476H12.1426C11.8269 24.0476 11.5241 23.9222 11.3008 23.6989C11.0776 23.4757 10.9521 23.1729 10.9521 22.8571V21.6667C10.9521 21.3509 11.0776 21.0481 11.3008 20.8249C11.5241 20.6016 11.8269 20.4762 12.1426 20.4762Z" fill="#9B4793" />
                        </svg>
                    </span>
                    <span className="pl-4" style={{ color: `${isCurrent === "accueil" ? "#C30F66" : "#000"}` }}>Accueil</span>
                </Link>
            </div>
            {isUser && (
                <div>
                    <div className="mt-1">
                        <Link onClick={() => setRoute()} href="/event/create" className="text-black flex justify-start items-center">
                            <span>
                                <svg width="35" height="35" viewBox="0 0 35 35" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <rect width="35" height="35" rx="10" fill="#F0EDED" />
                                    <path d="M16 25C16 25.5304 16.2107 26.0391 16.5858 26.4142C16.9609 26.7893 17.4696 27 18 27C18.5304 27 19.0391 26.7893 19.4142 26.4142C19.7893 26.0391 20 25.5304 20 25M16 25C16 24.4696 16.2107 23.9609 16.5858 23.5858C16.9609 23.2107 17.4696 23 18 23C18.5304 23 19.0391 23.2107 19.4142 23.5858C19.7893 23.9609 20 24.4696 20 25M16 25H10M20 25H26M16 13H20M18 11V15M18 20L16 18H13C12.7348 18 12.4804 17.8946 12.2929 17.7071C12.1054 17.5196 12 17.2652 12 17V9C12 8.73478 12.1054 8.48043 12.2929 8.29289C12.4804 8.10536 12.7348 8 13 8H23C23.2652 8 23.5196 8.10536 23.7071 8.29289C23.8946 8.48043 24 8.73478 24 9V17C24 17.2652 23.8946 17.5196 23.7071 17.7071C23.5196 17.8946 23.2652 18 23 18H20L18 20Z" stroke="#9B4793" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" />
                                </svg>
                            </span>
                            <span className="pl-4" style={{ color: `${isCurrent === "event" ? "#C30F66" : "#000"}` }} >Créer un événement</span>
                        </Link>
                    </div>

                    <div className="mt-1">
                        <Link onClick={() => setRoute()} href="/event/manage" className="text-black flex justify-start items-center">
                            <span>
                                <svg width="35" height="35" viewBox="0 0 35 35" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <rect width="35" height="35" rx="10" fill="#F0EDED" />
                                    <path d="M16.67 18.02C16.45 18.01 16.23 18 16 18C13.58 18 11.32 18.67 9.39 19.82C8.51 20.34 8 21.32 8 22.35V24C8 24.55 8.45 25 9 25H17.26C16.5537 23.9924 16.127 22.8157 16.0234 21.5896C15.9197 20.3635 16.1428 19.1318 16.67 18.02Z" fill="#9B4793" />
                                    <path d="M16 17C18.2091 17 20 15.2091 20 13C20 10.7909 18.2091 9 16 9C13.7909 9 12 10.7909 12 13C12 15.2091 13.7909 17 16 17Z" fill="#9B4793" />
                                    <path d="M26.7499 21C26.7499 20.78 26.7199 20.58 26.6899 20.37L27.5299 19.64C27.7099 19.48 27.7499 19.22 27.6299 19.01L27.0399 17.99C26.9834 17.8896 26.8931 17.8124 26.7851 17.7721C26.6771 17.7318 26.5584 17.7311 26.4499 17.77L25.3899 18.13C25.0699 17.86 24.7099 17.65 24.3099 17.5L24.0899 16.41C24.0663 16.2973 24.0048 16.1961 23.9156 16.1233C23.8264 16.0505 23.715 16.0105 23.5999 16.01H22.4199C22.1799 16.01 21.9799 16.18 21.9299 16.41L21.7099 17.5C21.3099 17.65 20.9499 17.86 20.6299 18.13L19.5699 17.77C19.4613 17.7327 19.3431 17.7342 19.2355 17.7744C19.1279 17.8145 19.0376 17.8907 18.9799 17.99L18.3899 19.01C18.2699 19.22 18.3099 19.48 18.4899 19.64L19.3299 20.37C19.2999 20.58 19.2699 20.78 19.2699 21C19.2699 21.22 19.2999 21.42 19.3299 21.63L18.4899 22.36C18.3099 22.52 18.2699 22.78 18.3899 22.99L18.9799 24.01C19.0999 24.22 19.3499 24.31 19.5699 24.23L20.6299 23.87C20.9499 24.14 21.3099 24.35 21.7099 24.5L21.9299 25.59C21.9799 25.82 22.1799 25.99 22.4199 25.99H23.5999C23.8399 25.99 24.0399 25.82 24.0899 25.59L24.3099 24.5C24.7099 24.35 25.0699 24.14 25.3899 23.87L26.4499 24.23C26.6799 24.31 26.9199 24.21 27.0399 24.01L27.6299 22.99C27.7499 22.78 27.7099 22.52 27.5299 22.36L26.6899 21.63C26.7199 21.42 26.7499 21.22 26.7499 21ZM22.9999 23C21.8999 23 20.9999 22.1 20.9999 21C20.9999 19.9 21.8999 19 22.9999 19C24.0999 19 24.9999 19.9 24.9999 21C24.9999 22.1 24.0999 23 22.9999 23Z" fill="#9B4793" />
                                </svg>
                            </span>
                            <span className="pl-4" style={{ color: `${isCurrent === "manage" ? "#C30F66" : "#000"}` }}>Gérer mes événements</span>
                        </Link>
                    </div>
                </div>
            )}

            <div className="mt-1">
                <Link onClick={() => setRoute()} href="/history" className="text-black flex justify-start items-center">
                    <span>
                        <svg width="35" height="35" viewBox="0 0 35 35" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect width="35" height="35" rx="10" fill="#F0EDED" />
                            <path fillRule="evenodd" clipRule="evenodd" d="M16.9045 15.7143H18.095C18.4107 15.7143 18.7135 15.8397 18.9368 16.063C19.1601 16.2862 19.2855 16.589 19.2855 16.9048V18.0952C19.2855 18.411 19.1601 18.7138 18.9368 18.937C18.7135 19.1603 18.4107 19.2857 18.095 19.2857H16.9045C16.5888 19.2857 16.286 19.1603 16.0627 18.937C15.8395 18.7138 15.7141 18.411 15.7141 18.0952V16.9048C15.7141 16.589 15.8395 16.2862 16.0627 16.063C16.286 15.8397 16.5888 15.7143 16.9045 15.7143ZM16.9045 10.9524H18.095C18.4107 10.9524 18.7135 11.0778 18.9368 11.3011C19.1601 11.5243 19.2855 11.8271 19.2855 12.1429V13.3333C19.2855 13.6491 19.1601 13.9519 18.9368 14.1751C18.7135 14.3984 18.4107 14.5238 18.095 14.5238H16.9045C16.5888 14.5238 16.286 14.3984 16.0627 14.1751C15.8395 13.9519 15.7141 13.6491 15.7141 13.3333V12.1429C15.7141 11.8271 15.8395 11.5243 16.0627 11.3011C16.286 11.0778 16.5888 10.9524 16.9045 10.9524ZM21.6664 15.7143H22.8569C23.1726 15.7143 23.4754 15.8397 23.6987 16.063C23.922 16.2862 24.0474 16.589 24.0474 16.9048V18.0952C24.0474 18.411 23.922 18.7138 23.6987 18.937C23.4754 19.1603 23.1726 19.2857 22.8569 19.2857H21.6664C21.3507 19.2857 21.0479 19.1603 20.8246 18.937C20.6014 18.7138 20.476 18.411 20.476 18.0952V16.9048C20.476 16.589 20.6014 16.2862 20.8246 16.063C21.0479 15.8397 21.3507 15.7143 21.6664 15.7143ZM21.6664 10.9524H22.8569C23.1726 10.9524 23.4754 11.0778 23.6987 11.3011C23.922 11.5243 24.0474 11.8271 24.0474 12.1429V13.3333C24.0474 13.6491 23.922 13.9519 23.6987 14.1751C23.4754 14.3984 23.1726 14.5238 22.8569 14.5238H21.6664C21.3507 14.5238 21.0479 14.3984 20.8246 14.1751C20.6014 13.9519 20.476 13.6491 20.476 13.3333V12.1429C20.476 11.8271 20.6014 11.5243 20.8246 11.3011C21.0479 11.0778 21.3507 10.9524 21.6664 10.9524ZM21.6664 20.4762H22.8569C23.1726 20.4762 23.4754 20.6016 23.6987 20.8249C23.922 21.0481 24.0474 21.3509 24.0474 21.6667V22.8571C24.0474 23.1729 23.922 23.4757 23.6987 23.6989C23.4754 23.9222 23.1726 24.0476 22.8569 24.0476H21.6664C21.3507 24.0476 21.0479 23.9222 20.8246 23.6989C20.6014 23.4757 20.476 23.1729 20.476 22.8571V21.6667C20.476 21.3509 20.6014 21.0481 20.8246 20.8249C21.0479 20.6016 21.3507 20.4762 21.6664 20.4762ZM16.9045 20.4762H18.095C18.4107 20.4762 18.7135 20.6016 18.9368 20.8249C19.1601 21.0481 19.2855 21.3509 19.2855 21.6667V22.8571C19.2855 23.1729 19.1601 23.4757 18.9368 23.6989C18.7135 23.9222 18.4107 24.0476 18.095 24.0476H16.9045C16.5888 24.0476 16.286 23.9222 16.0627 23.6989C15.8395 23.4757 15.7141 23.1729 15.7141 22.8571V21.6667C15.7141 21.3509 15.8395 21.0481 16.0627 20.8249C16.286 20.6016 16.5888 20.4762 16.9045 20.4762ZM12.1426 15.7143H13.3331C13.6488 15.7143 13.9516 15.8397 14.1749 16.063C14.3982 16.2862 14.5236 16.589 14.5236 16.9048V18.0952C14.5236 18.411 14.3982 18.7138 14.1749 18.937C13.9516 19.1603 13.6488 19.2857 13.3331 19.2857H12.1426C11.8269 19.2857 11.5241 19.1603 11.3008 18.937C11.0776 18.7138 10.9521 18.411 10.9521 18.0952V16.9048C10.9521 16.589 11.0776 16.2862 11.3008 16.063C11.5241 15.8397 11.8269 15.7143 12.1426 15.7143ZM12.1426 10.9524H13.3331C13.6488 10.9524 13.9516 11.0778 14.1749 11.3011C14.3982 11.5243 14.5236 11.8271 14.5236 12.1429V13.3333C14.5236 13.6491 14.3982 13.9519 14.1749 14.1751C13.9516 14.3984 13.6488 14.5238 13.3331 14.5238H12.1426C11.8269 14.5238 11.5241 14.3984 11.3008 14.1751C11.0776 13.9519 10.9521 13.6491 10.9521 13.3333V12.1429C10.9521 11.8271 11.0776 11.5243 11.3008 11.3011C11.5241 11.0778 11.8269 10.9524 12.1426 10.9524ZM12.1426 20.4762H13.3331C13.6488 20.4762 13.9516 20.6016 14.1749 20.8249C14.3982 21.0481 14.5236 21.3509 14.5236 21.6667V22.8571C14.5236 23.1729 14.3982 23.4757 14.1749 23.6989C13.9516 23.9222 13.6488 24.0476 13.3331 24.0476H12.1426C11.8269 24.0476 11.5241 23.9222 11.3008 23.6989C11.0776 23.4757 10.9521 23.1729 10.9521 22.8571V21.6667C10.9521 21.3509 11.0776 21.0481 11.3008 20.8249C11.5241 20.6016 11.8269 20.4762 12.1426 20.4762Z" fill="#9B4793" />
                        </svg>
                    </span>
                    <span className="pl-4" style={{ color: `${isCurrent === "history" ? "#C30F66" : "#000"}` }}>Historique des commandes</span>
                </Link>
            </div>

            <div className="mt-1">
                <Link onClick={() => setRoute()} href="/scan" className="text-black flex justify-start items-center">
                    <span>
                        <svg width="35" height="35" viewBox="0 0 35 35" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect width="35" height="35" rx="10" fill="#F0EDED" />
                            <g clipPath="url(#clip0_505_2863)">
                                <path d="M10 20C10.2449 20 10.4813 20.09 10.6644 20.2527C10.8474 20.4155 10.9643 20.6397 10.993 20.883L11 21V24H15C15.2549 24.0003 15.5 24.0979 15.6854 24.2728C15.8707 24.4478 15.9822 24.687 15.9972 24.9414C16.0121 25.1958 15.9293 25.4464 15.7657 25.6418C15.6021 25.8373 15.3701 25.9629 15.117 25.993L15 26H11C10.4954 26.0002 10.0094 25.8096 9.63945 25.4665C9.26947 25.1234 9.04284 24.6532 9.005 24.15L9 24V21C9 20.7348 9.10536 20.4804 9.29289 20.2929C9.48043 20.1054 9.73478 20 10 20ZM26 20C26.2652 20 26.5196 20.1054 26.7071 20.2929C26.8946 20.4804 27 20.7348 27 21V24C27 24.5304 26.7893 25.0391 26.4142 25.4142C26.0391 25.7893 25.5304 26 25 26H21C20.7348 26 20.4804 25.8946 20.2929 25.7071C20.1054 25.5196 20 25.2652 20 25C20 24.7348 20.1054 24.4804 20.2929 24.2929C20.4804 24.1054 20.7348 24 21 24H25V21C25 20.7348 25.1054 20.4804 25.2929 20.2929C25.4804 20.1054 25.7348 20 26 20ZM26 16C26.2549 16.0003 26.5 16.0979 26.6854 16.2728C26.8707 16.4478 26.9822 16.687 26.9972 16.9414C27.0121 17.1958 26.9293 17.4464 26.7657 17.6418C26.6021 17.8373 26.3701 17.9629 26.117 17.993L26 18H10C9.74512 17.9997 9.49997 17.9021 9.31463 17.7272C9.1293 17.5522 9.01777 17.313 9.00283 17.0586C8.98789 16.8042 9.07067 16.5536 9.23426 16.3582C9.39786 16.1627 9.6299 16.0371 9.883 16.007L10 16H26ZM15 8C15.2652 8 15.5196 8.10536 15.7071 8.29289C15.8946 8.48043 16 8.73478 16 9C16 9.26522 15.8946 9.51957 15.7071 9.70711C15.5196 9.89464 15.2652 10 15 10H11V13C11 13.2652 10.8946 13.5196 10.7071 13.7071C10.5196 13.8946 10.2652 14 10 14C9.73478 14 9.48043 13.8946 9.29289 13.7071C9.10536 13.5196 9 13.2652 9 13V10C9 9.46957 9.21071 8.96086 9.58579 8.58579C9.96086 8.21071 10.4696 8 11 8H15ZM25 8C25.5304 8 26.0391 8.21071 26.4142 8.58579C26.7893 8.96086 27 9.46957 27 10V13C27 13.2652 26.8946 13.5196 26.7071 13.7071C26.5196 13.8946 26.2652 14 26 14C25.7348 14 25.4804 13.8946 25.2929 13.7071C25.1054 13.5196 25 13.2652 25 13V10H21C20.7348 10 20.4804 9.89464 20.2929 9.70711C20.1054 9.51957 20 9.26522 20 9C20 8.73478 20.1054 8.48043 20.2929 8.29289C20.4804 8.10536 20.7348 8 21 8H25Z" fill="#9B4793" />
                            </g>
                            <defs>
                                <clipPath id="clip0_505_2863">
                                    <rect width="24" height="24" fill="white" transform="translate(6 5)" />
                                </clipPath>
                            </defs>
                        </svg>
                    </span>
                    <span className="pl-4" style={{ color: `${isCurrent === "scan" ? "#C30F66" : "#000"}` }}>Scanner un ticket</span>
                </Link>
            </div>

            {isUser && (
                <div className="mt-1">
                    <Link onClick={() => setRoute()} href="/finances" className="text-black flex justify-start items-center">
                        <span>
                            <svg width="35" height="35" viewBox="0 0 35 35" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <rect width="35" height="35" rx="10" fill="#F0EDED" />
                                <path d="M26.25 8H6.75V23H26.25V8ZM24.75 21.5H8.25V9.5H24.75V21.5Z" fill="#9B4793" />
                                <path d="M27.75 11.75V24.5H10.5V26H29.25V11.75H27.75Z" fill="#9B4793" />
                                <path d="M16.5 19.1778C18.3609 19.1778 19.875 17.5308 19.875 15.5063C19.875 13.4818 18.3609 11.8347 16.5 11.8347C14.6391 11.8347 13.125 13.4818 13.125 15.5063C13.125 17.5308 14.6391 19.1778 16.5 19.1778ZM16.5 13.3347C17.5339 13.3347 18.375 14.3089 18.375 15.5063C18.375 16.7037 17.5339 17.6778 16.5 17.6778C15.4661 17.6778 14.625 16.7037 14.625 15.5063C14.625 14.3089 15.4661 13.3347 16.5 13.3347ZM9.75 11.375H11.25V19.625H9.75V11.375ZM21.75 11.375H23.25V19.625H21.75V11.375Z" fill="#9B4793" />
                            </svg>
                        </span>
                        <span className="pl-4" style={{ color: `${isCurrent === "finances" ? "#C30F66" : "#000"}` }} >Mes finances</span>
                    </Link>
                </div>
            )}

            <div className="mt-1">
                <Link onClick={() => setRoute()} href="/account/settings" className="text-black flex justify-start items-center">
                    <span>
                        <svg width="35" height="35" viewBox="0 0 35 35" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect width="35" height="35" rx="10" fill="#F0EDED" />
                            <path fillRule="evenodd" clipRule="evenodd" d="M17.0002 9C17.4013 9 17.7967 9.02971 18.1819 9.08686L18.7625 10.8457C19.271 10.9909 19.7545 11.1977 20.2025 11.4583L21.871 10.6537C22.4619 11.1074 22.9876 11.6423 23.431 12.2411L22.5967 13.8949C22.8493 14.3474 23.0482 14.8343 23.1842 15.3463L24.9327 15.9554C25.0291 16.6949 25.0226 17.4441 24.9133 18.1817L23.1545 18.7623C23.0103 19.2657 22.8046 19.7493 22.5419 20.2023L23.3465 21.8709C22.8921 22.4619 22.3579 22.9869 21.759 23.4309L20.1053 22.5966C19.6478 22.852 19.1603 23.0494 18.6539 23.184L18.0447 24.9326C17.3053 25.0289 16.5561 25.0224 15.8185 24.9131L15.2379 23.1543C14.7345 23.0101 14.2509 22.8044 13.7979 22.5417L12.1293 23.3463C11.5383 22.892 11.0133 22.3577 10.5693 21.7589L11.4036 20.1051C11.1488 19.6474 10.9515 19.1599 10.8162 18.6537L9.0676 18.0434C8.97137 17.3044 8.97791 16.5556 9.08703 15.8183L10.8459 15.2377C10.991 14.7291 11.1979 14.2457 11.4585 13.7977L10.6539 12.1291C11.1082 11.5381 11.6425 11.0131 12.2413 10.5691L13.895 11.4034C14.3525 11.148 14.8401 10.9506 15.3465 10.816L15.9567 9.06743C16.3027 9.02242 16.6513 8.99989 17.0002 9Z" stroke="#9B4793" strokeWidth="0.933" strokeLinecap="round" strokeLinejoin="round" />
                            <path d="M17.0003 20.4286C18.8939 20.4286 20.4289 18.8935 20.4289 17C20.4289 15.1065 18.8939 13.5714 17.0003 13.5714C15.1068 13.5714 13.5718 15.1065 13.5718 17C13.5718 18.8935 15.1068 20.4286 17.0003 20.4286Z" stroke="#9B4793" strokeLinecap="round" strokeLinejoin="round" />
                        </svg>

                    </span>
                    <span className="pl-4" style={{ color: `${isCurrent === "settings" ? "#C30F66" : "#000"}` }} >Paramètres du compte</span>
                </Link>
            </div>

            <div className="mt-1">
                <Link onClick={() => setRoute()} href="/notification" className="text-black flex justify-start items-center">
                    <span className="bg-[#F0EDED] p-[5px] rounded-lg">
                        <svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M18.75 8.33333C18.75 6.67573 18.0915 5.08602 16.9194 3.91392C15.7473 2.74181 14.1576 2.08333 12.5 2.08333C10.8424 2.08333 9.25268 2.74181 8.08058 3.91392C6.90848 5.08602 6.25 6.67573 6.25 8.33333C6.25 15.625 3.125 17.7083 3.125 17.7083H21.875C21.875 17.7083 18.75 15.625 18.75 8.33333Z" stroke="#9B4793" strokeOpacity="0.88" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" />
                            <path d="M14.3019 21.875C14.1188 22.1907 13.8559 22.4528 13.5397 22.6349C13.2234 22.8171 12.8648 22.913 12.4998 22.913C12.1349 22.913 11.7763 22.8171 11.46 22.6349C11.1438 22.4528 10.8809 22.1907 10.6978 21.875" stroke="#9B4793" strokeOpacity="0.88" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" />
                        </svg>
                    </span>
                    <span className="pl-4" style={{ color: `${isCurrent === "notify" ? "#C30F66" : "#000"}` }}>Notifications</span>
                </Link>
            </div>

            {session?.user && user && (
                <div className="mt-1">
                    <p className="text-black cursor-pointer flex justify-start items-center" onClick={async () => {
                        await fetch('/api/auth/logout', {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify({ email: "charbelzeusmamlankou@gmail.com" }),
                        })
                        localStorage.clear()
                        sessionStorage.clear()
                        await signOut({
                            redirect: true,
                            callbackUrl: `${window.location.origin}`,
                        })
                    }}>
                        <span>
                            <svg width="35" height="35" viewBox="0 0 35 35" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <rect width="35" height="35" rx="10" fill="#F0EDED" />
                                <path d="M11.4 7.4C11.5591 7.4 11.7117 7.46321 11.8242 7.57574C11.9367 7.68826 12 7.84087 12 8C12 12.3488 15.4512 15.8 19.8 15.8H20.7516L19.3752 14.4248C19.3194 14.369 19.2751 14.3028 19.2449 14.2299C19.2147 14.157 19.1992 14.0789 19.1992 14C19.1992 13.9211 19.2147 13.843 19.2449 13.7701C19.2751 13.6972 19.3194 13.631 19.3752 13.5752C19.4878 13.4625 19.6406 13.3992 19.8 13.3992C19.8789 13.3992 19.957 13.4148 20.0299 13.445C20.1027 13.4752 20.169 13.5194 20.2248 13.5752L22.6248 15.9752C22.6806 16.0309 22.725 16.0971 22.7552 16.17C22.7855 16.2429 22.801 16.3211 22.801 16.4C22.801 16.4789 22.7855 16.5571 22.7552 16.63C22.725 16.7029 22.6806 16.7691 22.6248 16.8248L20.2248 19.2248C20.169 19.2806 20.1027 19.3248 20.0299 19.355C19.957 19.3852 19.8789 19.4008 19.8 19.4008C19.7211 19.4008 19.6429 19.3852 19.5701 19.355C19.4972 19.3248 19.4309 19.2806 19.3752 19.2248C19.3194 19.169 19.2751 19.1028 19.2449 19.0299C19.2147 18.957 19.1992 18.8789 19.1992 18.8C19.1992 18.7211 19.2147 18.643 19.2449 18.5701C19.2751 18.4972 19.3194 18.431 19.3752 18.3752L20.7516 17H19.8C18.7737 16.9931 17.7564 17.1902 16.8069 17.5798C15.8575 17.9693 14.9949 18.5436 14.2692 19.2693C13.5436 19.9949 12.9693 20.8575 12.5797 21.807C12.1902 22.7564 11.9931 23.7738 12 24.8C12 24.9591 11.9367 25.1117 11.8242 25.2243C11.7117 25.3368 11.5591 25.4 11.4 25.4C11.2408 25.4 11.0882 25.3368 10.9757 25.2243C10.8632 25.1117 10.8 24.9591 10.8 24.8C10.7893 22.9833 11.332 21.2065 12.3561 19.7059C13.3801 18.2054 14.8368 17.0522 16.5324 16.4C14.8368 15.7478 13.3801 14.5946 12.3561 13.0941C11.332 11.5935 10.7893 9.81665 10.8 8C10.8 7.84087 10.8632 7.68826 10.9757 7.57574C11.0882 7.46321 11.2408 7.4 11.4 7.4ZM18.0384 18.4316C16.566 18.8267 15.2787 19.7251 14.4 20.9708V21.8C14.4 22.4365 14.6528 23.047 15.1029 23.4971C15.553 23.9471 16.1634 24.2 16.8 24.2H24C24.6365 24.2 25.2469 23.9471 25.697 23.4971C26.1471 23.047 26.4 22.4365 26.4 21.8V11C26.4 10.3635 26.1471 9.75303 25.697 9.30294C25.2469 8.85286 24.6365 8.6 24 8.6H16.8C16.1634 8.6 15.553 8.85286 15.1029 9.30294C14.6528 9.75303 14.4 10.3635 14.4 11V11.8292C15.2786 13.0749 16.566 13.9734 18.0384 14.3684C17.9587 13.989 18.0037 13.594 18.1667 13.2422C18.3298 12.8905 18.6021 12.6008 18.9431 12.4164C19.2842 12.232 19.6757 12.1627 20.0593 12.2188C20.4429 12.275 20.7981 12.4536 21.072 12.728L23.472 15.128C23.6392 15.2952 23.7719 15.4936 23.8624 15.7121C23.953 15.9306 23.9996 16.1647 23.9996 16.4012C23.9996 16.6377 23.953 16.8718 23.8624 17.0903C23.7719 17.3088 23.6392 17.5072 23.472 17.6744L21.072 20.0744C20.7979 20.3492 20.4424 20.5281 20.0585 20.5843C19.6745 20.6406 19.2826 20.5713 18.9413 20.3867C18.5999 20.2022 18.3273 19.9122 18.1642 19.5601C18.001 19.208 17.9561 18.8126 18.036 18.4328L18.0384 18.4316Z" fill="#9B4793" />
                            </svg>
                        </span>
                        <span className="pl-4" style={{ color: `${isCurrent === "logout" ? "#C30F66" : "#000"}` }}>Déconnexion</span>
                    </p>
                </div>
            )}

            <div className="mt-1 lg:hidden md:hidden">
                <Link className="text-black" href="/search">
                    <div className="bg-slate-100 w-full rounded-full flex justify-start items-center p-2 gap-3">
                        <Search size={20} />
                        <p>Rechercher un événement</p>
                    </div>
                </Link>
            </div>
        </div >
    )
}

export default Menu
